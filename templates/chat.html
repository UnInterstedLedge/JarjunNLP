<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Select a Speaker</title>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<div class="chat-container">
    <h1>Who do you want to talk to?</h1>
    <form method="post" action="{{ url_for('index') }}">
        <select name="speaker" id="speaker-selection">
            <option value="">--Please choose an option--</option>
            <option value="ben_shapiro" {{ 'selected' if selected_speaker == 'ben_shapiro' else '' }}>Ben Shapiro</option>
            <option value="joe_biden" {{ 'selected' if selected_speaker == 'joe_biden' else '' }}>Joe Biden</option>
            <option value="morgan_freeman" {{ 'selected' if selected_speaker == 'morgan_freeman' else '' }}>Morgan Freeman</option>
            <option value="donald_trump" {{ 'selected' if selected_speaker == 'donald_trump' else '' }}>Donald Trump</option>
        </select>
        <input type="text" name="user_input" placeholder="Say 'Hi' to start talking" autofocus>
        <button type="submit">Talk</button>
    </form>
    <div class="speaker-image">
        <img id="speaker-img" src="{{ url_for('static', filename=(selected_speaker or '') + '.jpg') }}" alt="Speaker Image" {{ 'style=display:block;' if selected_speaker else 'style=display:none;' }}>
    </div>
    {% if response %}
        <p>Response: {{ response }}</p>
    {% endif %}
</div>

<script>
document.getElementById('speaker-selection').addEventListener('change', function() {
    var speakerName = this.value;
    var speakerImg = document.getElementById('speaker-img');
    if (speakerName) {
        speakerImg.src = "{{ url_for('static', filename='') }}" + speakerName + '.jpg';
        speakerImg.alt = speakerName.split('_').join(' ') + ' image';
        speakerImg.style.display = 'block';
    } else {
        speakerImg.style.display = 'none';
    }
});
</script>

</body>
</html>
